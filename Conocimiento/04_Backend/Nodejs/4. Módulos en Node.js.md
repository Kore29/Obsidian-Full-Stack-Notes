#nodejs #javascript

## 驴Qu茅 es un m贸dulo en Node.js?

Un **m贸dulo** en Node.js es una pieza de c贸digo reutilizable que encapsula funcionalidad espec铆fica. Node.js sigue un sistema modular desde su dise帽o, lo que permite dividir aplicaciones grandes en componentes m谩s peque帽os y manejables.

Node.js soporta dos sistemas principales de m贸dulos:
- **CommonJS** (tradicional en Node.js)
- **ECMAScript Modules (ESM)** (est谩ndar moderno)

---

## Tipos de M贸dulos

### 1. M贸dulos Core (Integrados)

Son los m贸dulos incluidos por defecto en el entorno de Node.js. No necesitas instalarlos.

Ejemplos comunes:
- `fs`: para trabajar con el sistema de archivos
- `path`: para manipular rutas
- `http`: para crear servidores HTTP
- `os`: informaci贸n del sistema operativo
- `process`: informaci贸n del proceso actual

Uso b谩sico:
```javascript
const fs = require('fs');
```

### 2. M贸dulos de Terceros (NPM)

Paquetes creados por la comunidad y publicados en el registro de NPM. Se instalan usando `npm install`.

Ejemplo:
```bash
npm install lodash
```

Uso:
```javascript
const _ = require('lodash');
```

### 3. M贸dulos Locales Personalizados

Archivos o carpetas que t煤 mismo creas dentro de tu proyecto.

Ejemplo:
```javascript
// utils.js
exports.saludar = () => {
  console.log("隆Hola desde mi m贸dulo personalizado!");
};

// app.js
const { saludar } = require('./utils');
saludar();
```

---

## Importar y Exportar M贸dulos

### CommonJS (sintaxis tradicional)

Exportar:
```javascript
// math.js
exports.sumar = (a, b) => a + b;
```

Importar:
```javascript
const { sumar } = require('./math');
console.log(sumar(2, 3)); // 5
```

O tambi茅n puedes usar `module.exports`:

```javascript
// math.js
module.exports = {
  sumar: (a, b) => a + b,
  restar: (a, b) => a - b
};
```

```javascript
const math = require('./math');
console.log(math.restar(5, 2)); // 3
```

### ECMAScript Modules (ESM)

Exportar:
```javascript
// math.mjs
export function multiplicar(a, b) {
  return a * b;
}
```

Importar:
```javascript
import { multiplicar } from './math.mjs';
console.log(multiplicar(2, 4)); // 8
```

>  Recuerda usar `.mjs` o `"type": "module"` en `package.json` para usar ESM.

---

## Estructura B谩sica de un M贸dulo Personalizado

Imagina que quieres crear un m贸dulo que maneje operaciones b谩sicas:

```javascript
// operaciones.js
export const sumar = (a, b) => a + b;
export const restar = (a, b) => a - b;
export const multiplicar = (a, b) => a * b;

// app.mjs
import { sumar, restar } from './operaciones.mjs';

console.log(sumar(5, 3));     // 8
console.log(restar(10, 4));   // 6
```

---

## Ejemplo Pr谩ctico: Servidor HTTP con M贸dulos

Aqu铆 tienes un ejemplo completo de c贸mo crear un servidor simple usando el m贸dulo integrado `http`:

```javascript
// server.mjs
import { createServer } from 'node:http';

const server = createServer((req, res) => {
  res.writeHead(200, { 'Content-Type': 'text/plain' });
  res.end('隆Hola Mundo!\n');
});

server.listen(3000, '127.0.0.1', () => {
  console.log('Servidor escuchando en http://127.0.0.1:3000/');
});
```

Ejecuta este archivo con:
```bash
node server.mjs
```

Visita [http://127.0.0.1:3000](http://127.0.0.1:3000) en tu navegador.
